<!doctype html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="./src/assets/css/default.css" />
    <link rel="stylesheet" type="text/css" href="./src/assets/css/mobile.css" />
    <link rel='stylesheet' href='./src/assets/css/jquery-ui.css'>
    <script type="text/javascript" src="./static/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="./static/js/common.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,maximum-scale=1.0,user-scalable=no">
    <title>交通流量轨迹可视化 </title>
</head>

<body>
    <div id="wrapper">
        <h1>交通流量轨迹可视化 </h1>
        <h2><strong>重点关注</strong><sub>Focus on the indicators</sub><b class="logoline"></b><b class="logoline1"></b><b
                class="logoline2"></b><b class="logoline3"></b><b class="logoline4"></b></h2>
        <!--时间区-->
        <div class="date-timer">
            <p>
                <strong id="H"></strong>
                <strong>:</strong>
                <strong id="M"></strong>
                <strong id="S" class="hide"></strong>
            </p>
            <em id="D"></em>
            <ul>
                <li id="Y"></li>
                <li id="MH"></li>
                <li id="TD"></li>
            </ul>
        </div>

        <!-- 用于交通流量可视化情况所使用的订单情况展示 -->
        <div class="big-index-1">
            <ul>
                <li>
                    <b class="animation-1"></b><b class="animation-2"></b><b class="animation-3"></b>
                    <p>滴滴订单类型数量</p>
                    <strong>174.6069</strong>
                </li>
                <li>
                    <b class="animation-1"></b><b class="animation-2"></b><b class="animation-3"></b>
                    <p>滴滴订单类型数量</p>
                    <strong>174.6069</strong>
                </li>
                <li>
                    <b class="animation-1"></b><b class="animation-2"></b><b class="animation-3"></b>
                    <p>滴滴订单类型数量</p>
                    <strong>174.6069</strong>
                </li>
                <li>
                    <b class="animation-1"></b><b class="animation-2"></b><b class="animation-3"></b>
                    <p>滴滴订单类型数量</p>
                    <strong>174.6069</strong>
                </li>
                <li>
                    <b class="animation-1"></b><b class="animation-2"></b><b class="animation-3"></b>
                    <p>滴滴订单类型数量</p>
                    <strong>174.6069</strong>
                </li>
                <li>
                    <b class="animation-1"></b><b class="animation-2"></b><b class="animation-3"></b>
                    <p>滴滴订单类型数量</p>
                    <strong>174.6069</strong>
                </li>
            </ul>
        </div>

        <!-- 操作台：用于操作交通流量可视化平台的参数与相关信息 -->
        <div class="submenu">
            <ul>
                <li><a href="#this" class="active"><b>1</b><span>交通流量蝌蚪图<em></em></span></a> </li>
                <li><a href="#this" class="active"><b>2</b><span>交通流量热力图<em></em></span></a> </li>
                <li><a href="#this" class="active"><b>3</b><span>交通流量迁徙图<em></em></span></a> </li>
                <li><a href="#this" class="active"><b>4</b><span>交通流量站点预测<em></em></span></a> </li>
            </ul>
        </div>


         <div class="center-area">
            <div id="LineChart" style="width: 600px;height:400px;"></div>
        </div> 
        <div>
            
        </div>
        <div class="right-area">
            <h3>交通流量变化率 <b></b></h3>
            <div class="area-inbox-1">
                <dl>
                    <dt>上月平均值</dt>
                    <dd class="font12"><span>76.525%</span><b></b></dd>
                    <dt class="ml-20">今日交通流量变化率</dt>
                    <dd class="font-red ml-20"><span>74.113%</span><b></b></dd>
                    <dt>今日交通流量变化率</dt>
                    <dd><span>68.113%</span><b></b></dd>
                </dl>
                <div class="round-1"></div>
                <div class="round-2"></div>
                <div class="round-3">30%</div>
                <div class="round-4"></div>
            </div>
            <div class="area-inbox-2">
                <ul>
                    <li><strong></strong>74.23%<b></b><em></em></li>
                    <li><strong></strong>71.19%<b></b><em></em></li>
                    <li><strong></strong>68.02%<b></b><em></em></li>
                </ul>
                <div class="area-text">
                    <b class="animation-line1"></b>
                    <h4>口径说明：</h4>
                    <p class="text_container">
                        <script>var s = '（当日滴滴订单类型数量、昨日滴滴订单类型数量、上月平均值当日交通流量变化率、昨日语音网络接通'; var con = $('.text_container'); var index = 0; var length = s.length; var tId = null; function start() { con.text(''); tId = setInterval(function () { con.append(s.charAt(index)); if (index++ === length) { clearInterval(tId); index = 0; start() } }, 100); } start();</script>
                    </p>
                    <b class="animation-line2"></b>
                </div>
            </div>
        </div>
        <div class="time-base-outer">
            <b class="line1"></b>
            <div class="time-base">
                <!--  <div class="slider2"></div> -->
                <script src="./static/js/jquery_and_jqueryui.js"></script>
                <script src="./static/js/index.js"></script>
            </div>
            <b class="line2"></b>
        </div>
    </div>
</body>


<script type="text/javascript">
    import axios from "axios"; //获取本地数据
    var echarts = require("echarts");
    // 引入 ECharts 主模块
    require("echarts/lib/component/tooltip");
    require("echarts/lib/component/title");
    // 引入提示框和标题组件
    export default {
      name: "LineChart1",
      mounted() {
        /*ECharts图表*/
        var myChart1 = echarts.init(document.getElementById("LineChart"));
        option = null;
        var app = {};
        app.title = "海口市滴滴订单数量/以及出行相关情况折线图";
        var fontColor = "#cdddf7";
        $.ajax("../../static/data/LineChart/2017-05-13_lineChart.json").then(
          res => {
            console.log("json数据为:" + res.body); //此处的res对象包含了json的文件信息和数据
          }
        );
        // console.log(data);
        var colors = ["rgba(76,180,231,0.4)", "#d14a61", "#675bba"]; //修改颜色
        myChart1.setOption(
          (option = {
            color: colors,
            tooltip: {
              show: true,
              trigger: "item"
            },
            grid: {
              left: "3%",
              right: "0%",
              top: "20%",
              bottom: "0%",
              containLabel: true
            },
            legend: {
              //还可以展现很多信息（例如，节假日，具体天气情况等等），在这里添加在series里添加数据调用即可
              show: true,
              right: "0%",
              icon: "stack",
              itemWidth: 10,
              itemHeight: 10,
              textStyle: {
                color: "#cdddf7"
              },
              data: ["出行时间", "出行距离", "订单数量"]
            },
            xAxis: [
              {
                type: "category",
                boundaryGap: false,
                axisLabel: {
                  color: fontColor
                },
                axisLine: {
                  show: true,
                  lineStyle: {
                    color: "#397cbc"
                  }
                },
                axisTick: {
                  show: false
                },
                splitLine: {
                  show: true,
                  lineStyle: {
                    color: "#57617B"
                  }
                },
                data: data.map(function(item) {
                  // 小时数据
                  return item[0];
                })
              }
            ],
            yAxis: [
              {
                type: "value",
                name: "订单数量",
                min: 0,
                max: 15000,
                axisLabel: {
                  formatter: "{value}",
                  textStyle: {
                    color: "rgb(97,165,207)"
                  }
                },
                axisLine: {
                  lineStyle: {
                    color: "rgb(97,165,207)"
                  }
                },
                axisTick: {
                  show: false
                },
                splitLine: {
                  show: true,
                  lineStyle: {
                    color: "rgb(97,165,207)"
                  }
                }
              },
              {
                type: "value",
                name: "出行距离",
                min: 0,
                max: 25,
                axisLabel: {
                  formatter: "{value} km",
                  textStyle: {
                    color: "rgb(246,150,23)"
                  }
                },
                axisLine: {
                  lineStyle: {
                    color: "rgb(246,150,23)"
                  }
                },
                axisTick: {
                  show: false
                },
                splitLine: {
                  show: true,
                  lineStyle: {
                    color: "#11366e",
                    type: "dashed"
                  }
                }
              }
            ],
            series: [
              {
                name: "出行距离",
                type: "line",
                stack: "总量",
                symbol: "circle",
                symbolSize: 8,
                yAxisIndex: 1,
                itemStyle: {
                  emphasis: {
                    color: "rgb(246,150,23)",
                    borderColor: "rgba(246,150,23,0.2)",
                    extraCssText: "box-shadow: 8px 8px 8px rgba(0, 0, 0, 1);",
                    borderWidth: 10
                  },
                  normal: {
                    color: "rgb(246,150,23)",
                    lineStyle: {
                      color: "rgb(246,150,23)",
                      width: 1
                    },
                    areaStyle: {
                      //color: '#94C9EC'
                      color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [
                        {
                          offset: 0,
                          color: "rgba(7,44,90,0.1)"
                        },
                        {
                          offset: 1,
                          color: "rgba(246,150,23,0.9)"
                        }
                      ])
                    }
                  }
                },
                data: data.map(function(item) {
                  //添加出行距离数据
                  return item[2];
                })
              },
              {
                name: "订单数量",
                type: "line",
                stack: "总量",
                symbol: "circle",
                symbolSize: 8,
                itemStyle: {
                  emphasis: {
                    color: "rgb(97,165,207)",
                    borderColor: "rgba(97,165,207,0.2)",
                    extraCssText: "box-shadow: 8px 8px 8px rgba(0, 0, 0, 1);",
                    borderWidth: 10
                  },
                  normal: {
                    color: "rgb(97,165,207)",
                    lineStyle: {
                      color: "rgb(97,165,207)",
                      width: 1
                    },
                    areaStyle: {
                      color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [
                        {
                          offset: 0,
                          color: "rgba(7,44,90,0.1)"
                        },
                        {
                          offset: 1,
                          color: "rgba(97,165,207,0.9)"
                        }
                      ])
                    }
                  }
                },
                data: data.map(function(item) {
                  //添加订单数量数据
                  return item[1];
                })
              }
            ]
          })
        );
        if (option && typeof option === "object") {
          myChart1.setOption(option, true);
        }
        myChart1.setOption(option, true);
      }
    };
    </script>

</html>

